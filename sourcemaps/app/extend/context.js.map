{"version":3,"sources":["app/extend/context.ts"],"names":[],"mappings":";;AAIA,wCAAyC;AACzC,gDAA6C;AAC7C,gDAA2D;AA0B3D,kBAAe;IACX,GAAG,SAAG;IACN,GAAG,qBAAW;IACd,GAAG,iBAAO;CACb,CAAC","file":"../../../app/extend/context.js","sourcesContent":["import { ValidationError, ValidationSchema } from 'class-validator';\nimport { EggFile } from 'egg-multipart';\nimport { SchemaObject } from 'openapi3-ts';\nimport { Connection } from 'typeorm';\nimport { PandoraForm } from '../pandora';\nimport { AOP } from '../pandora/aopImpl/aop';\nimport { TypeORM, TypeOrmClass } from '../pandora/typeorm';\n\ndeclare module 'egg' {\n    interface Context {\n        schema(): { [key: string]: SchemaObject; };\n        schema<T>(someClass: {\n            new(...args: any[]): T;\n        }): ValidationSchema;\n        vaildAOP<T>(someClass: {\n            new(...args: any[]): T;\n        }, data: any): Promise<ValidationError[]>;\n\n        param<T = any>(): T;\n        param<T = any>(name?: string): T;\n\n        post<T = any>(): T;\n        post<T = any>(name?: string): T;\n\n        file(): EggFile[];\n        file(name?: string): EggFile;\n\n        connection: Connection;\n        repo: <E extends TypeOrmClass<E>>(Entity: E, dbName?: string) => E;\n    }\n}\n\nexport default {\n    ...AOP,\n    ...PandoraForm,\n    ...TypeORM,\n};"]}